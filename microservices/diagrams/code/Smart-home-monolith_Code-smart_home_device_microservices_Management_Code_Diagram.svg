<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="460.8px" preserveAspectRatio="none" style="width:1475px;height:460px;background:#FFFFFF;" version="1.1" viewBox="0 0 1475 460" width="1475.2px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacing" textLength="336" x="568.8" y="23.9727">smart-home-device microservices Management Code Diagram</text><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="18.4" x2="18.4" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="161.2" x2="161.2" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="322" x2="322" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="508.4" x2="508.4" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="692.4" x2="692.4" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="925.6" x2="925.6" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="1090.4" x2="1090.4" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="1239.2" x2="1239.2" y1="99.3087" y2="394.3216"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="1398.4" x2="1398.4" y1="99.3087" y2="394.3216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="24.8" x="4" y="96.0271">User</text><ellipse cx="18.8" cy="42.8543" fill="#E2E2F0" rx="6.4" ry="6.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M18.8,49.2543 L18.8,70.8543 M8.4,55.6543 L29.2,55.6543 M18.8,70.8543 L8.4,82.8543 M18.8,70.8543 L29.2,82.8543 " fill="none" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="24.8" x="4" y="405.4944">User</text><ellipse cx="18.8" cy="415.5759" fill="#E2E2F0" rx="6.4" ry="6.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M18.8,421.9759 L18.8,443.5759 M8.4,428.3759 L29.2,428.3759 M18.8,443.5759 L8.4,455.5759 M18.8,443.5759 L29.2,455.5759 " fill="none" style="stroke:#181818;stroke-width:0.4000000000000001;"/><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="155.2" x="83.6" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="144" x="89.2" y="89.6271">CommandDeviceController</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="155.2" x="83.6" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="144" x="89.2" y="411.0944">CommandDeviceController</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="150.4" x="246.8" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="139.2" x="252.4" y="89.6271">CommandDeviceProducer</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="150.4" x="246.8" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="139.2" x="252.4" y="411.0944">CommandDeviceProducer</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="158.4" x="429.2" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="147.2" x="434.8" y="89.6271">TopicCOMMAND_CONTROL</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="158.4" x="429.2" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="147.2" x="434.8" y="411.0944">TopicCOMMAND_CONTROL</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="156.8" x="614" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="145.6" x="619.6" y="89.6271">CommandDeviceConsumer</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="156.8" x="614" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="145.6" x="619.6" y="411.0944">CommandDeviceConsumer</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="140" x="856" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="128.8" x="861.6" y="89.6271">CommandDeviceService</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="140" x="856" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="128.8" x="861.6" y="411.0944">CommandDeviceService</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="122.4" x="1029.6" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="111.2" x="1035.2" y="89.6271">ManagerDeviceState</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="122.4" x="1029.6" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="111.2" x="1035.2" y="411.0944">ManagerDeviceState</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="158.4" x="1160" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="147.2" x="1165.6" y="89.6271">CommandDeviceRepository</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="158.4" x="1160" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="147.2" x="1165.6" y="411.0944">CommandDeviceRepository</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="144" x="1326.4" y="72.0543"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="132.8" x="1332" y="89.6271">TopicCOMMAND_DEVICE</text><rect fill="#E2E2F0" height="26.4543" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="144" x="1326.4" y="393.5216"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="132.8" x="1332" y="411.0944">TopicCOMMAND_DEVICE</text><polygon fill="#181818" points="151.6,123.0735,159.6,126.2735,151.6,129.4735,154.8,126.2735" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="18.8" x2="156.4" y1="126.2735" y2="126.2735"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="123.2" x="24.4" y="121.6263">Command request (JSON)</text><polygon fill="#181818" points="312.4,148.4383,320.4,151.6383,312.4,154.8383,315.6,151.6383" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="161.2" x2="317.2" y1="151.6383" y2="151.6383"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="120" x="166.8" y="146.9911">Request write kafka topic</text><polygon fill="#181818" points="498.8,173.8031,506.8,177.0031,498.8,180.2031,502,177.0031" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="322" x2="503.6" y1="177.0031" y2="177.0031"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="167.2" x="327.6" y="172.3559">write topic (COMMAND_CONTROL)</text><polygon fill="#181818" points="682.8,199.1679,690.8,202.3679,682.8,205.5679,686,202.3679" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="508.4" x2="687.6" y1="202.3679" y2="202.3679"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="164.8" x="514" y="197.7207">read topic (COMMAND_CONTROL)</text><polygon fill="#181818" points="916.4,224.5327,924.4,227.7327,916.4,230.9327,919.6,227.7327" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="692.4" x2="921.2" y1="227.7327" y2="227.7327"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="214.4" x="698" y="223.0855">request for the ability to execute a command</text><polygon fill="#181818" points="1081.2,249.8975,1089.2,253.0975,1081.2,256.2975,1084.4,253.0975" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="926" x2="1086" y1="253.0975" y2="253.0975"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="145.6" x="931.6" y="248.4503">request get actual state device</text><polygon fill="#181818" points="934.8,275.2624,926.8,278.4624,934.8,281.6624,931.6,278.4624" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="930" x2="1090" y1="278.4624" y2="278.4624"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="134.4" x="939.6" y="273.8152">response actual state device</text><polygon fill="#181818" points="1229.6,300.6272,1237.6,303.8272,1229.6,307.0272,1232.8,303.8272" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="926" x2="1234.4" y1="303.8272" y2="303.8272"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="237.6" x="931.6" y="299.18">save an attempt to form a command (for rollback)</text><polygon fill="#181818" points="330.8,325.992,322.8,329.192,330.8,332.392,327.6,329.192" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="326" x2="925.2" y1="329.192" y2="329.192"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="120" x="335.6" y="324.5448">Request write kafka topic</text><polygon fill="#181818" points="1388.8,351.3568,1396.8,354.5568,1388.8,357.7568,1392,354.5568" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="322" x2="1393.6" y1="354.5568" y2="354.5568"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="153.6" x="327.6" y="349.9096">write topic (COMMAND_DEVICE)</text><polygon fill="#181818" points="682.8,376.7216,690.8,379.9216,682.8,383.1216,686,379.9216" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="322" x2="687.6" y1="379.9216" y2="379.9216"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="112.8" x="327.6" y="375.2744">manual call (offset shift)</text><!--SRC=[hPA_JiCm4CPtFyMDoP0NO412IGSGRL1RMD7LkRHMxJZObqBVdai20ge4CR1Oydt-Vhv_RDWIH8U1iuDtb5LqCfh06HryfD1V8YonmJqvQXXoNn4K1lS1dLAesGTub8TAzITar_B2EMogOW3blk7WhHNfwbE1G2yTHORaRbEkKZLdk6Gz15zrUY2jFmYlmJ314UiZ0llMQ3Nj4DIsb_DokRnP5SzvkTgkotiXZOJ12yc5dAf9qqIDiND3Ne6mceLDcovfcx7f0smiifOMyu40TyOQFWiVw8rq9taZwD6h9Xd27aSNFkAC_9sy9mOPOOSMuY2DqrSJfkotF6ChrT0aQYwl7_4rjJuQMQMpu2AU1DK0CfDhkIzNEk2-QeMaxqY_93lKn_HlN_pZyXIBfzjyCRSxevhEi-PsHu9zzpHQ2uclwoZ3YGTJS_eE]--></g></svg>