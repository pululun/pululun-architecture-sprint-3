@startuml
title SmartHomeMonolith Web Application Component Diagram

top to bottom direction

!include ../basic/C4_Component.puml

Container_Boundary(smartHomeBackend, "Smart Home System") {
  Container(WebApp, "Web Application", "Java, Spring", "Handles user interactions")
  ContainerDb(Database, "Database", "PostgreSQL", "Data sensors and control temperature")
}

Container_Boundary(WebApp, "Web Application", "Java, Spring") {
  Component(HeatingSystemController, "HeatingSystemController", "Handles and manages heating and temperature")
  Component(HeatingSystemService, "HeatingSystemService", "Business logic")
  Component(TemperatureSystemService, "TemperatureSystemService", "Business logic")
  Component(HeatingSystemRepository, "HeatingSystemRepository", "Data access logic")
  Component(TemperatureSensorRepository, "TemperatureSensorRepository", "Data access logic")
}

Rel(HeatingSystemController,HeatingSystemService,"Calls business logic")
Rel(HeatingSystemController,TemperatureSystemService,"Calls business logic")
Rel(HeatingSystemService,HeatingSystemRepository,"Reads/Writes data")
Rel(TemperatureSystemService,TemperatureSensorRepository,"Reads/Writes data")
Rel(HeatingSystemRepository,Database,"Reads/Writes user and sensors data")
Rel(TemperatureSensorRepository,Database,"Reads/Writes user and sensors data")
@enduml